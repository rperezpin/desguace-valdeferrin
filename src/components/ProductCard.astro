---
interface Props {
  nombre: string;
  slug: string;
  categoria: string;
  precio: number;
  marca: string;
  modelo: string;
  anio: number;
  motor: string;
  imagen: string;
  garantia?: boolean;
}

const { nombre, slug, categoria, precio, imagen, garantia = true } = Astro.props;
---

<article class="bg-white rounded-2xl overflow-hidden border border-grey-200 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group">
  <div class="relative aspect-[4/3] overflow-hidden bg-grey-200">
    <img
      src={imagen}
      alt={nombre}
      loading="lazy"
      class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"
    />
    {garantia && (
      <span class="absolute top-3 right-3 bg-primary-700 text-white text-[10px] font-display font-bold uppercase tracking-wider px-2 py-1 rounded">
        Garantia
      </span>
    )}
  </div>

  <div class="p-5">
    <span class="text-xs uppercase font-semibold tracking-wider text-primary-700">
      {categoria}
    </span>
    <h3 class="font-body font-semibold text-sm text-dark mt-1 leading-snug line-clamp-2">
      {nombre}
    </h3>
    <div class="flex items-end justify-between mt-3">
      <div>
        <span class="font-display font-bold text-xl text-accent-700">
          {precio.toFixed(2)}&euro;
        </span>
        <span class="text-xs text-grey-600 block">IVA incluido</span>
      </div>
      <a
        href={`/recambios/${slug}`}
        class="text-xs font-display font-bold uppercase text-primary-700 hover:text-accent-500 transition-colors"
      >
        Ver pieza &rarr;
      </a>
    </div>
  </div>
</article>
